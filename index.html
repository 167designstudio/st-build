<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>St.Build — Home 01</title>
<link rel="icon" type="image/svg+xml" href="img/favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="St.Build">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&amp;display=swap" rel="stylesheet">

<style>
  :root{
    --container-pad: 20px;
    --max-width: 1512px;
    --gap: 20px;
    --accent: #063BFF;
    --text: #111;
    --red: #D33;
    --track: #eee;

    --logo-width: 102px;
    --logo-height: 14px;
    --home-width: 66px;
    --home-height: 14px;

    --main-w-desktop: 440px;
    --main-h-desktop: 540px;
    --main-w-mobile: 260px;
    --main-h-mobile: 300px;

    --thumb-w: 260px;
    --thumb-h: 120px;

    --font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Helvetica Neue";
    --font-size: 12px;
    --h1-size: 24px;
  }

  *{ box-sizing: border-box; }
  html,body{ height:100%; margin:0; padding:0; overflow-x:hidden; }
  body{
    font-family: var(--font-family);
    color: var(--text);
    background: #fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    font-size: var(--font-size);
    line-height: 1.4;
  }

  .container{
    max-width: var(--max-width);
    margin: 0 auto;
    padding-left: var(--container-pad);
    padding-right: var(--container-pad);
    padding-top: 24px;
    padding-bottom: 24px;
    width: 100%;
    box-sizing: border-box;
    /* overflow visible so sticky works */
    overflow: visible;
  }

  header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom: var(--gap); }
  #logoImg{ width: var(--logo-width); height: var(--logo-height); object-fit:contain; display:block; }
  #houseImg{ width: var(--home-width); height: var(--home-height); object-fit:contain; display:block; }

  .main{
    display:grid;
    grid-template-columns: 1fr 420px;
    gap: var(--gap);
    align-items:start;
    width:100%;
  }
  @media (max-width:1100px){ .main{ grid-template-columns: 1fr; } }

  /* LEFT COLUMN: sticky on desktop */
  .col-left{
    min-width:0;
    position: sticky;
    top: var(--container-pad); /* 20px — matches horizontal gutter */
    align-self: start;
    z-index: 5;
  }
  @media (max-width:1100px){ .col-left{ position: static; top: auto; } }

  .col-right{ min-width:0; display:flex; flex-direction:column; gap:var(--gap); }

  .btn{
    font-family: var(--font-family);
    font-size: var(--font-size);
    font-weight:400;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    padding:10px 14px;
    border:none;
    background:#f3f3f3;
    color:var(--accent);
    text-decoration:none;
    cursor:pointer;
    width:100%;
    box-sizing:border-box;
    position:relative;
    border-radius: 8px;
  }
  .btn.primary{ background:var(--accent); color:#fff; }
  .btn.red{ background:transparent; color:var(--red); }

  .btn .icon{ height:12px; width:auto; display:inline-block; margin-right:8px; vertical-align:middle; }

  .slider-wrap{ position: relative; width:100%; }
  .slider{
    display:flex;
    gap: var(--gap);
    overflow-x:auto;
    scroll-behavior:smooth;
    padding: 0;
    margin: 0;
    align-items:center;
    /* smoother snapping to avoid jank */
    scroll-snap-type: x proximity;
    -webkit-overflow-scrolling: touch;
    max-width:100%;
    min-width: 0;
    border-radius: 8px;
    /* allow native vertical scrolling while enabling horizontal swipe for slider */
    touch-action: pan-y;
  }
  .slider::-webkit-scrollbar{ display:none; }

  .slide{ flex: 0 0 auto; scroll-snap-align:center; background:#000; overflow:hidden; position:relative; border-radius:0; min-width:0; will-change: transform; }
  .img-wrap{ position:relative; width:100%; height:100%; }
  .img-wrap img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; display:block; transition:opacity .22s ease; }

  /* fixed sizes (desktop / mobile) */
  #slider1 .slide{ width: var(--main-w-desktop); height: var(--main-h-desktop); }
  @media (max-width:420px){ #slider1 .slide{ width: var(--main-w-mobile); height: var(--main-h-mobile); } }

  #thumbs .slide{ width: var(--thumb-w); height: var(--thumb-h); }
  @media (max-width:420px){ #thumbs .slide{ width: calc(var(--thumb-w)); height: calc(var(--thumb-h)); } }

  .day-img{ opacity:1; z-index:2; } .night-img{ opacity:0; z-index:1; }
  #slider1.night .day-img{ opacity:0; } #slider1.night .night-img{ opacity:1; }

  .day-evening-switch{ position:absolute; top:14px; left:14px; display:inline-flex; gap:8px; z-index:40; }
  .day-evening-switch button{ display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:8px 10px; border:none; background:#000; cursor:pointer; font-family:var(--font-family); font-size:var(--font-size); color:#fff; transition: background .18s ease; border-radius: 8px; }
  .day-evening-switch button img{ width:16px; height:16px; transition:filter .18s ease; filter: invert(1) brightness(2); }
  .day-evening-switch button.active{ background:#fff; color:#000; }
  .day-evening-switch button.active img{ filter: brightness(0); }

  .edge-zone{ position:absolute; top:0; bottom:0; width:20%; z-index:30; }
  .edge-zone.left{ left:0; } .edge-zone.right{ right:0; }

  .progress-wrap{ margin-top:10px; }
  .progress-track{ height:4px; background:var(--track); border-radius:999px; overflow:hidden; }
  .progress-bar{ height:100%; width:0%; background:var(--text); transition: width .12s linear; }

  h1{ font-family:var(--font-family); font-weight:600; font-size:var(--h1-size); letter-spacing:-0.02em; margin:0 0 8px 0; }
  .lead{ font-size:var(--font-size); color:#333; margin:0 0 20px 0; line-height:1.5; }
  .signature{ font-size:var(--font-size); color:var(--text); margin-top:12px; }

  /* tiny invisible thumbnail used to trigger Quick Look overlay on iOS */
  .ql-thumb{
    width:1px;
    height:1px;
    opacity:0;
    position:absolute;
    left:0;
    top:0;
    pointer-events:none;
  }

  /* Copy UI */
  .contact-copy-row{ display:flex; align-items:center; gap:10px; margin-top:8px; flex-wrap:wrap; }
  .contact-text{ font-family:var(--font-family); font-size:var(--font-size); color:var(--text); user-select:text; }

  .copy-btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    width:auto;
    height:28px;
    padding:6px;
    border-radius:6px;
    background:transparent;
    border:1px solid transparent;
    cursor:pointer;
    transition:background .12s ease, border-color .12s ease;
  }
  .copy-btn img{ height:14px; width:auto; display:block; }

  .copy-btn:hover, .copy-btn:focus{ background:#f3f3f3; outline:none; border-color:#e0e0e0; }

  .copy-feedback{ font-size:12px; color:var(--accent); opacity:0; transform:translateY(-4px); transition: opacity .16s ease, transform .16s ease; margin-left:6px; }
  .copy-feedback.visible{ opacity:1; transform:translateY(0); }

</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="header-left"><img id="logoImg" src="img/SB_logo.svg" alt="St.Build"></div>
      <div class="header-right"><img id="houseImg" src="img/Home_logo.svg" alt="Home 01"></div>
    </header>

    <main class="main">
      <section class="col-left">
        <div class="slider-wrap" id="sliderWrap1">
          <div class="day-evening-switch" aria-label="Day Evening">
            <button class="day-btn" type="button" aria-pressed="false"><img src="img/icon_day.svg" alt="">Day</button>
            <button class="evening-btn active" type="button" aria-pressed="true"><img src="img/icon_eve.svg" alt="">Evening</button>
          </div>

          <div class="slider night" id="slider1" tabindex="0" aria-label="Main slider">
            <div class="slide" tabindex="-1"><div class="img-wrap"><img class="day-img" src="img/render/S1_day_01.jpg" alt="" loading="lazy"><img class="night-img" src="img/render/S1_night_01.jpg" alt="" loading="lazy"></div></div>
            <div class="slide" tabindex="-1"><div class="img-wrap"><img class="day-img" src="img/render/S1_day_02.jpg" alt="" loading="lazy"><img class="night-img" src="img/render/S1_night_02.jpg" alt="" loading="lazy"></div></div>
            <div class="slide" tabindex="-1"><div class="img-wrap"><img class="day-img" src="img/render/S1_day_03.jpg" alt="" loading="lazy"><img class="night-img" src="img/render/S1_night_03.jpg" alt="" loading="lazy"></div></div>
            <div class="slide" tabindex="-1"><div class="img-wrap"><img class="day-img" src="img/render/S1_day_04.jpg" alt="" loading="lazy"><img class="night-img" src="img/render/S1_night_04.jpg" alt="" loading="lazy"></div></div>
            <div class="slide" tabindex="-1"><div class="img-wrap"><img class="day-img" src="img/render/S1_day_05.jpg" alt="" loading="lazy"><img class="night-img" src="img/render/S1_night_05.jpg" alt="" loading="lazy"></div></div>

            <div class="edge-zone left" aria-hidden="true"></div>
            <div class="edge-zone right" aria-hidden="true"></div>
          </div>

          <div class="progress-wrap"><div class="progress-track"><div class="progress-bar" id="progress1" style="width: 22.8155%;"></div></div></div>
        </div>
      </section>

      <aside class="col-right">
        <h1>Look at Home 01 in real life</h1>
        <div id="arCta">
          <a href="#" class="btn primary"><img class="icon" src="img/tbl.svg" alt="">View in AR</a>
        </div>

        <button class="btn red" id="openOnPhone" style="display: none;">● Open this page on your phone</button>

        <p class="lead">For the best augmented reality experience, open this page in Safari on iOS or Google Chrome on Android.</p>

        <h1>You can explore Home 01 in full scale right on your property — place it on your land, move it around, step inside, and experience what it feels like in real life. No app downloads needed — it works instantly with just one tap on iOS and Android.</h1>

        <div class="slider-wrap" id="thumbsWrap">
          <div class="slider" id="thumbs" tabindex="0" aria-label="Detail slider">
            <div class="slide" tabindex="-1"><div class="img-wrap"><img src="img/render/S2_01.jpg" alt="" loading="lazy"></div></div>
            <div class="slide" tabindex="-1"><div class="img-wrap"><img src="img/render/S2_02.jpg" alt="" loading="lazy"></div></div>
            <div class="slide" tabindex="-1"><div class="img-wrap"><img src="img/render/S2_03.jpg" alt="" loading="lazy"></div></div>

            <div class="edge-zone left" aria-hidden="true"></div>
            <div class="edge-zone right" aria-hidden="true"></div>
          </div>

          <div class="progress-wrap"><div class="progress-track"><div class="progress-bar" id="progress2" style="width: 0%;"></div></div></div>
        </div>

        <h1>While creating this augmented reality demo page, I couldn’t just use any random house model for the demonstration. I’m used to approaching everything I do with attention to detail — so I designed and modeled the house myself, and created renders for a more immersive experience.</h1>

        <div class="signature">
          Created by Nik and Danil Koslow. <br><br>
          We develop custom AR experiences for products and real estate — tailored to your brand and seamless across modern platforms. If you’re looking to bring objects or full architectural models into augmented reality for your business, we’re ready to implement it end-to-end.
          <br><br>

          <div style="margin-top:12px;">
            <div class="contact-copy-row" aria-hidden="false">
              <span class="contact-text" id="contactEmail"><h1>st.drafts.design@gmail.com</h1></span>

              <button class="copy-btn" id="copyEmailBtn" aria-label="Copy email address">
                <img src="img/copy.svg" alt="copy">
              </button>

              <span class="copy-feedback" id="copyEmailFeedback" aria-live="polite" role="status"></span>
            </div>
          </div>

          <div style="margin-top:14px;">
            <div class="contact-copy-row">
              <span class="contact-text" id="contactHandle"><h1>@mysaintdrafts</h1></span>

              <button class="copy-btn" id="copyHandleBtn" aria-label="Copy handle">
                <img src="img/copy.svg" alt="copy">
              </button>

              <span class="copy-feedback" id="copyHandleFeedback" aria-live="polite" role="status"></span>
            </div>
          </div>

          <br><br>We look forward to collaborating — and elevating your presentation layer into the future.
        </div>
      </aside>
    </main>
  </div>

<script>
  /* Utility */
  const q = (s,r=document)=>r.querySelector(s);
  const qa = (s,r=document)=>Array.from(r.querySelectorAll(s));

  const mainSlider = q('#slider1');
  const thumbs = q('#thumbs');
  const dayBtn = q('.day-btn');
  const eveBtn = q('.evening-btn');

  /* Day/Night toggle */
  function setMode(mode){
    if(mode === 'night'){
      mainSlider.classList.add('night');
      eveBtn.classList.add('active'); dayBtn.classList.remove('active');
      eveBtn.setAttribute('aria-pressed','true'); dayBtn.setAttribute('aria-pressed','false');
    } else {
      mainSlider.classList.remove('night');
      dayBtn.classList.add('active'); eveBtn.classList.remove('active');
      dayBtn.setAttribute('aria-pressed','true'); eveBtn.setAttribute('aria-pressed','false');
    }
  }
  dayBtn.addEventListener('click', ()=> setMode('day'));
  eveBtn.addEventListener('click', ()=> setMode('night'));

  /* Progress bars */
  function attachProgress(slider, bar){
    function update(){
      const max = slider.scrollWidth - slider.clientWidth;
      const pct = max > 0 ? (slider.scrollLeft / max) * 100 : 0;
      bar.style.width = pct + '%';
    }
    slider.addEventListener('scroll', update, {passive:true});
    window.addEventListener('resize', update);
    update();
  }
  attachProgress(mainSlider, q('#progress1'));
  attachProgress(thumbs, q('#progress2'));

  /* Slider helpers */
  function slides(sl){ return qa('.slide', sl); }
  function indexClosestToCenter(sl){
    const arr = slides(sl);
    if(!arr.length) return 0;
    const rect = sl.getBoundingClientRect();
    const center = rect.left + rect.width/2;
    let best = 0, bestDist = Infinity;
    arr.forEach((el,i)=>{
      const r = el.getBoundingClientRect();
      const c = r.left + r.width/2;
      const d = Math.abs(c - center);
      if(d < bestDist){ best = i; bestDist = d; }
    });
    return best;
  }
  function centerSlide(sl, idx){
    const arr = slides(sl);
    if(!arr.length) return;
    idx = Math.max(0, Math.min(idx, arr.length - 1));
    const el = arr[idx];
    const elOffset = el.offsetLeft;
    const elWidth = el.offsetWidth;
    const containerWidth = sl.clientWidth;
    const targetScrollLeft = elOffset - (containerWidth / 2) + (elWidth / 2);
    requestAnimationFrame(()=> sl.scrollTo({ left: Math.max(0, Math.round(targetScrollLeft)), behavior: 'smooth' }));
  }

  /* Edge-paging (click on edge to go prev/next) */
  function enableEdgePaging(sl){
    const left = sl.querySelector('.edge-zone.left');
    const right = sl.querySelector('.edge-zone.right');

    function next(){ centerSlide(sl, Math.min(indexClosestToCenter(sl) + 1, slides(sl).length - 1)); }
    function prev(){ centerSlide(sl, Math.max(indexClosestToCenter(sl) - 1, 0)); }

    if (left) left.addEventListener('click', prev);
    if (right) right.addEventListener('click', next);

    sl.addEventListener('click', function(ev){
      if (ev.target.closest('.day-evening-switch')) return;
      const rect = sl.getBoundingClientRect();
      const x = ev.clientX - rect.left;
      const w = rect.width;
      const threshold = Math.max(60, Math.min(180, Math.round(w * 0.18)));
      if (x > w - threshold) next();
      else if (x < threshold) prev();
    }, { passive: true });

    sl.addEventListener('keydown', function(e){
      if (e.key === 'ArrowRight'){ e.preventDefault(); next(); }
      if (e.key === 'ArrowLeft'){ e.preventDefault(); prev(); }
    });
  }
  enableEdgePaging(mainSlider);
  enableEdgePaging(thumbs);

  /* AR CTA insertion with minimal DOM churn */
  const arCtaContainer = q('#arCta');
  const openOnPhone = q('#openOnPhone');
  let _lastARState = { isMobile: null, platform: null };

  function detectPlatform(){
    const ua = navigator.userAgent.toLowerCase();
    const isMobile = window.innerWidth <= 1100;
    const platform = /iphone|ipad|ipod/.test(ua) ? 'ios' : (/android/.test(ua) ? 'android' : 'other');
    return { isMobile, platform };
  }

  function buildARHtml(platform){
    if(platform === 'ios'){
      return `<a rel="ar" href="ar/ar-ios-s.usdz" class="btn primary"><img class="icon" src="img/tbl.svg" alt="">View on your table<img class="ql-thumb" src="img/render/S1_day_01.jpg" alt=""></a><div style="height:12px"></div><a rel="ar" href="ar/ar-ios.usdz" class="btn outline" style="background:#f3f3f3;color:#002BFF;"><img class="icon" src="img/tree.svg" alt="">Real size<img class="ql-thumb" src="img/render/S1_day_01.jpg" alt=""></a>`;
    } else if(platform === 'android'){
      const intentIndoor = `intent://arvr.google.com/scene-viewer/1.0?file=${encodeURIComponent('https://167designstudio.github.io/st-build/ar/ar-and-s.glb')}#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;end;`;
      const intentFull = `intent://arvr.google.com/scene-viewer/1.0?file=${encodeURIComponent('https://167designstudio.github.io/st-build/ar/ar-and.glb')}#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;end;`;
      return `<a href="${intentIndoor}" class="btn primary"><img class="icon" src="img/tbl.svg" alt="">View on your table</a><div style="height:12px"></div><a href="${intentFull}" class="btn outline" style="background:#f3f3f3;color:#002BFF;"><img class="icon" src="img/tree.svg" alt="">Real size</a>`;
    } else {
      return `<a href="#" class="btn primary"><img class="icon" src="img/tbl.svg" alt="">View on your table</a><div style="height:12px"></div><a href="#" class="btn outline" style="background:#f3f3f3;color:#002BFF;"><img class="icon" src="img/tree.svg" alt="">Real size</a>`;
    }
  }

  function insertARLinkIfNeeded(){
    const state = detectPlatform();
    if(_lastARState.isMobile === state.isMobile && _lastARState.platform === state.platform) return;
    _lastARState = state;

    if(!arCtaContainer) return;
    if(!state.isMobile){
      // Desktop: show placeholder single button and Open-on-phone
      arCtaContainer.innerHTML = `<a href="#" class="btn primary"><img class="icon" src="img/tbl.svg" alt="">View in AR</a>`;
      arCtaContainer.style.display = 'none';
      openOnPhone.style.display = 'inline-flex';
      return;
    }

    // Mobile: replace with platform-specific links
    arCtaContainer.style.display = 'block';
    openOnPhone.style.display = 'none';
    arCtaContainer.innerHTML = buildARHtml(state.platform);
  }

  /* Debounce helper */
  function debounce(fn, wait=150){
    let t = null;
    return function(...args){
      clearTimeout(t);
      t = setTimeout(()=> fn.apply(this,args), wait);
    };
  }

  /* Lazy images */
  function setImagesLazy(){
    qa('.img-wrap img').forEach(img=>{
      if(!img.getAttribute('loading')) img.loading = 'lazy';
    });
  }

  /* Init/responsive */
  const onResize = debounce(()=>{
    insertARLinkIfNeeded();
    centerSlide(mainSlider, indexClosestToCenter(mainSlider));
    centerSlide(thumbs, indexClosestToCenter(thumbs));
  },150);

  window.addEventListener('load', ()=>{
    setImagesLazy();
    insertARLinkIfNeeded();
    setTimeout(()=>{ centerSlide(mainSlider, 0); centerSlide(thumbs, 0); }, 120);
    window.addEventListener('resize', onResize, { passive: true });
  });

  window.addEventListener('orientationchange', ()=>{
    insertARLinkIfNeeded();
  });

  /* Accessibility: set slide tabindex */
  qa('.slide').forEach(s => s.setAttribute('tabindex','-1'));

  /* Copy buttons logic */
  (function(){
    const copyEmailBtn = document.getElementById('copyEmailBtn');
    const contactEmailEl = document.getElementById('contactEmail');
    const copyEmailFeedback = document.getElementById('copyEmailFeedback');

    const copyHandleBtn = document.getElementById('copyHandleBtn');
    const contactHandleEl = document.getElementById('contactHandle');
    const copyHandleFeedback = document.getElementById('copyHandleFeedback');

    function fallbackCopy(text){
      try{
        const ta = document.createElement('textarea');
        ta.value = text;
        ta.style.position = 'fixed';
        ta.style.left = '-9999px';
        document.body.appendChild(ta);
        ta.focus();
        ta.select();
        const ok = document.execCommand('copy');
        document.body.removeChild(ta);
        return !!ok;
      }catch(e){
        return false;
      }
    }

    async function writeToClipboard(text){
      if(navigator.clipboard && navigator.clipboard.writeText){
        try{
          await navigator.clipboard.writeText(text);
          return true;
        }catch(e){
          return fallbackCopy(text);
        }
      } else {
        return fallbackCopy(text);
      }
    }

    function showFeedback(el, msg='Copied', ms=1400){
      if(!el) return;
      clearTimeout(el._t);
      el.textContent = msg;
      el.classList.add('visible');
      el._t = setTimeout(()=>{ el.classList.remove('visible'); }, ms);
    }

    if(copyEmailBtn && contactEmailEl){
      copyEmailBtn.addEventListener('click', async (e)=>{
        e.preventDefault();
        const text = contactEmailEl.textContent.trim();
        const ok = await writeToClipboard(text);
        if(ok) showFeedback(copyEmailFeedback, 'Copied');
        else showFeedback(copyEmailFeedback, 'Copy failed');
        copyEmailBtn.blur();
      });
    }

    if(copyHandleBtn && contactHandleEl){
      copyHandleBtn.addEventListener('click', async (e)=>{
        e.preventDefault();
        const text = contactHandleEl.textContent.trim();
        const ok = await writeToClipboard(text);
        if(ok) showFeedback(copyHandleFeedback, 'Copied');
        else showFeedback(copyHandleFeedback, 'Copy failed');
        copyHandleBtn.blur();
      });
    }
  })();
</script>
</body>
</html>